<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  
  
  <link rel="shortcut icon" href="../img/favicon.ico">
  <title>interp1d - Csound Plugins</title>
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700" />

  <link rel="stylesheet" href="../css/theme.css" />
  <link rel="stylesheet" href="../css/theme_extra.css" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/github.min.css" />
  <link href="../css/syntax-highlighting.css" rel="stylesheet" />
  
  <script>
    // Current page data
    var mkdocs_page_name = "interp1d";
    var mkdocs_page_input_path = "opcodes/interp1d.md";
    var mkdocs_page_url = null;
  </script>
  
  <script src="../js/jquery-2.1.1.min.js" defer></script>
  <script src="../js/modernizr-2.8.3.min.js" defer></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
  <script>hljs.initHighlightingOnLoad();</script> 
  
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
        <a href=".." class="icon icon-home"> Csound Plugins</a>
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../index.html">Csound Plugins</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../Contributing.html">Contributing</a>
                    </li>
                </ul>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="../Installation.html">Installation</a>
                    </li>
                </ul>
                <p class="caption"><span class="caption-text">Opcodes</span></p>
                <ul class="current">
                    <li class="toctree-l1"><a class="reference internal" href="accum.html">accum</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="atstop.html">atstop</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="bisect.html">bisect</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="channelStateRecall.html">channelStateRecall</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="channelStateSave.html">channelStateSave</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="crackle.html">crackle</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="defer.html">defer</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="deref.html">deref</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="dict_del.html">dict_del</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="dict_dump.html">dict_dump</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="dict_exists.html">dict_exists</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="dict_free.html">dict_free</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="dict_get.html">dict_get</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="dict_geti.html">dict_geti</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="dict_iter.html">dict_iter</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="dict_loadstr.html">dict_loadstr</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="dict_new.html">dict_new</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="dict_print.html">dict_print</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="dict_query.html">dict_query</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="dict_set.html">dict_set</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="dict_size.html">dict_size</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="diode_ringmod.html">diode_ringmod</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="extendarray.html">extendarray</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="fileexists.html">file_exists</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="findFileInPath.html">findFileInPath</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="findarray.html">findarray</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="frac2int.html">frac2int</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="ftfill.html">ftfill</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="ftfind.html">ftfind</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="ftnew.html">ftnew</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="ftsetparams.html">ftsetparams</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="getEnvVar.html">getEnvVar</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="initerror.html">initerror</a>
                    </li>
                    <li class="toctree-l1 current"><a class="reference internal current" href="interp1d.html">interp1d</a>
    <ul class="current">
    <li class="toctree-l2"><a class="reference internal" href="#abstract">Abstract</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#description">Description</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#syntax">Syntax</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#arguments">Arguments</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#output">Output</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#examples">Examples</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#see-also">See Also</a>
    </li>
    </ul>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="jsfx.html">jsfx</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="jsfx_getslider.html">jsfx_setslider</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="jsfx_new.html">jsfx_new</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="jsfx_play.html">jsfx_play</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="jsfx_setslider.html">jsfx_setslider</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="lfnoise.html">lfnoise</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="linenv.html">linenv</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="memview.html">memview</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="pathAbsolute.html">pathAbsolute</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="pathIsAbsolute.html">pathIsAbsolute</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="pathJoin.html">pathJoin</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="pathNative.html">pathNative</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="pathSplit.html">pathSplit</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="pathSplitExt.html">pathSplitExt</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="pathSplitExtk.html">pathSplitExtk</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="pathSplitk.html">pathSplitk</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="perlin3.html">perlin3</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="poly.html">poly</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="poly0.html">poly0</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="polyseq.html">polyseq</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="pool_at.html">pool_at</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="pool_capacity.html">pool_capacity</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="pool_gen.html">pool_gen</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="pool_isfull.html">pool_isfull</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="pool_new.html">pool_new</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="pool_pop.html">pool_pop</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="pool_push.html">pool_push</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="pool_size.html">pool_size</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="pread.html">pread</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="pwrite.html">pwrite</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="ramptrig.html">ramptrig</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="ref.html">ref</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="refvalid.html">refvalid</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="schmitt.html">schmitt</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="scriptDir.html">scriptDir</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="sderef.html">sderef</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="setslice.html">setslice</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="sfreadmeta.html">sfreadmeta</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="sigmdrive.html">sigmdrive</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="sref.html">sref</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="standardchaos.html">standardchaos</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="strsplit.html">strsplit</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="sysPlatform.html">sysPlatform</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="throwerror.html">throwerror</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="trigExpseg.html">trigExpseg</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="trigLinseg.html">trigLinseg</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="tubeharmonics.html">tubeharmonics</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="uniqinstance.html">uniqinstance</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="zeroarray.html">zeroarray</a>
                    </li>
                </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="..">Csound Plugins</a>
      </nav>

      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="..">Docs</a> &raquo;</li>
    
      
        
          <li>Opcodes &raquo;</li>
        
      
    
    <li>interp1d</li>
    <li class="wy-breadcrumbs-aside">
      
    </li>
  </ul>
  
  <hr/>
</div>
          <div role="main">
            <div class="section">
              
                <h1 id="interp1d">interp1d</h1>
<h2 id="abstract">Abstract</h2>
<p>Interpolate between elements of an array/table</p>
<h2 id="description">Description</h2>
<p>Given a fractional index into an arra/table, interpolate
between adjacent items. In the case of a table, a specific
column of the table can be selected for performing interpolation.
In this case, the index indicates the "row", the step value determines
the size of each row, and the offset determines which column is used 
when interpolating. Possible interpolation modes are: linear, cos, 
floor, exponential and cubic.
Together with <code>bisect</code> it can be used to generate any possible 
breakpoint-function configuration.</p>
<p><strong>NB</strong>: interp1d performs the opossite operation of <code>bisect</code></p>
<p><strong>NB2</strong>: when used with a table the <code>param</code> value can be given within the string, 
as "exp=1.5" or "smooth=0.7". For example, <code>kout = interp1d(kidx, itab, "exp=1.5")</code></p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>At the moment the interpolation mode is set at init time and can't be modified</p>
</div>
<h2 id="syntax">Syntax</h2>
<div class="codehilite"><pre><span></span><code><span class="kt">k</span><span class="n">out</span>   <span class="kt">i</span><span class="n">nterp1d</span> <span class="kt">k</span><span class="n">idx</span><span class="p">,</span> <span class="n">xarr</span><span class="p">[],</span> <span class="kt">S</span><span class="n">mode</span><span class="o">=</span><span class="s">&quot;linear&quot;</span><span class="p">,</span> <span class="kt">k</span><span class="n">param</span><span class="o">=</span><span class="mi">0</span>
<span class="kt">a</span><span class="n">out</span>   <span class="kt">i</span><span class="n">nterp1d</span> <span class="kt">a</span><span class="n">idx</span><span class="p">,</span> <span class="n">xarr</span><span class="p">[],</span> <span class="kt">S</span><span class="n">mode</span><span class="o">=</span><span class="s">&quot;linear&quot;</span><span class="p">,</span> <span class="kt">k</span><span class="n">param</span><span class="o">=</span><span class="mi">0</span>
<span class="kt">i</span><span class="n">out</span>   <span class="kt">i</span><span class="n">nterp1d</span> <span class="kt">i</span><span class="n">idx</span><span class="p">,</span> <span class="kt">i</span><span class="n">arr</span><span class="p">[],</span> <span class="kt">S</span><span class="n">mode</span><span class="o">=</span><span class="s">&quot;linear&quot;</span><span class="p">,</span> <span class="kt">k</span><span class="n">param</span><span class="o">=</span><span class="mi">0</span>
<span class="kt">k</span><span class="n">out</span><span class="p">[]</span> <span class="kt">i</span><span class="n">nterp1d</span> <span class="kt">k</span><span class="n">idx</span><span class="p">[],</span> <span class="n">xarr</span><span class="p">[],</span> <span class="kt">S</span><span class="n">mode</span><span class="o">=</span><span class="s">&quot;linear&quot;</span><span class="p">,</span> <span class="kt">k</span><span class="n">param</span><span class="o">=</span><span class="mi">0</span>
<span class="kt">i</span><span class="n">out</span><span class="p">[]</span> <span class="kt">i</span><span class="n">nterp1d</span> <span class="kt">i</span><span class="n">idx</span><span class="p">[],</span> <span class="kt">i</span><span class="n">arr</span><span class="p">[],</span> <span class="kt">S</span><span class="n">mode</span><span class="o">=</span><span class="s">&quot;linear&quot;</span><span class="p">,</span> <span class="kt">k</span><span class="n">param</span><span class="o">=</span><span class="mi">0</span>

<span class="kt">k</span><span class="n">out</span>   <span class="kt">i</span><span class="n">nterp1d</span> <span class="kt">k</span><span class="n">idx</span><span class="p">,</span> <span class="kt">k</span><span class="n">tab</span><span class="p">,</span> <span class="kt">S</span><span class="n">mode</span><span class="o">=</span><span class="s">&quot;linear&quot;</span><span class="p">,</span> <span class="kt">k</span><span class="n">step</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="kt">k</span><span class="n">offset</span><span class="o">=</span><span class="mi">0</span>
<span class="kt">a</span><span class="n">out</span>   <span class="kt">i</span><span class="n">nterp1d</span> <span class="kt">a</span><span class="n">idx</span><span class="p">,</span> <span class="kt">k</span><span class="n">tab</span><span class="p">,</span> <span class="kt">S</span><span class="n">mode</span><span class="o">=</span><span class="s">&quot;linear&quot;</span><span class="p">,</span> <span class="kt">k</span><span class="n">step</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="kt">k</span><span class="n">offset</span><span class="o">=</span><span class="mi">0</span>
<span class="kt">i</span><span class="n">out</span>   <span class="kt">i</span><span class="n">nterp1d</span> <span class="kt">i</span><span class="n">idx</span><span class="p">,</span> <span class="kt">i</span><span class="n">tab</span><span class="p">,</span> <span class="kt">S</span><span class="n">mode</span><span class="o">=</span><span class="s">&quot;linear&quot;</span><span class="p">,</span> <span class="kt">k</span><span class="n">step</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="kt">k</span><span class="n">offset</span><span class="o">=</span><span class="mi">0</span>
<span class="kt">k</span><span class="n">out</span><span class="p">[]</span> <span class="kt">i</span><span class="n">nterp1d</span> <span class="kt">k</span><span class="n">idx</span><span class="p">[],</span> <span class="kt">k</span><span class="n">tab</span><span class="p">,</span> <span class="kt">S</span><span class="n">mode</span><span class="o">=</span><span class="s">&quot;linear&quot;</span><span class="p">,</span> <span class="kt">k</span><span class="n">step</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="kt">k</span><span class="n">offset</span><span class="o">=</span><span class="mi">0</span>
<span class="kt">i</span><span class="n">out</span><span class="p">[]</span> <span class="kt">i</span><span class="n">nterp1d</span> <span class="kt">i</span><span class="n">idx</span><span class="p">[],</span> <span class="kt">k</span><span class="n">tab</span><span class="p">,</span> <span class="kt">S</span><span class="n">mode</span><span class="o">=</span><span class="s">&quot;linear&quot;</span><span class="p">,</span> <span class="kt">k</span><span class="n">step</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="kt">k</span><span class="n">offset</span><span class="o">=</span><span class="mi">0</span>
</code></pre></div>

<h2 id="arguments">Arguments</h2>
<ul>
<li><code>idx</code>: the index into the array/table. For example, using linear interpolation (see mode)
    an index of 1.5 will interpolate halfway between arr[1] and arr[2] </li>
<li><code>arr</code>: the array (1D) holding the data. </li>
<li><code>tab</code>: the table holding the data</li>
<li><code>mode</code>: the interpolation mode. Possible interpolations modes are: "linear", "cos", "floor", 
  "cubic", "smooth" (smoothstep, see https://en.wikipedia.org/wiki/Smoothstep), 
  "smoother" (perlin's smootherstep) or "exp" (exponential). "smoother" interpolation is almost
  equal to "smooth" with param=0.7.</li>
<li><code>param</code>: a parameter used by the interpolation mode. In "exp" mode, param sets the exponent
  (2 will result in a quadratic curve). In "smooth" mode, param sets the number of extra
  smoothsteps (default=0). Fractional smoothsteps are possible (see )</li>
</ul>
<h2 id="output">Output</h2>
<ul>
<li><code>out</code>: the result of interpolating the array/table at the given index.</li>
</ul>
<h2 id="examples">Examples</h2>
<div class="codehilite"><pre><span></span><code><span class="o">&lt;</span><span class="n">CsoundSynthesizer</span><span class="o">&gt;</span>
<span class="o">&lt;</span><span class="n">CsOptions</span><span class="o">&gt;</span>
<span class="c1">; -odac</span>
<span class="o">&lt;/</span><span class="n">CsOptions</span><span class="o">&gt;</span>

<span class="o">&lt;</span><span class="n">CsInstruments</span><span class="o">&gt;</span>

<span class="cm">/*</span>

<span class="cm">Abstract</span>
<span class="cm">========</span>

<span class="cm">Interpolate between elements of an array/table</span>

<span class="cm">Syntax</span>
<span class="cm">======</span>

<span class="cm">    kout   interp1d kidx, xarr[], Smode=&quot;linear&quot;, kparam=0</span>
<span class="cm">    aout   interp1d aidx, xarr[], Smode=&quot;linear&quot;, kparam=0</span>
<span class="cm">    iout   interp1d iidx, iarr[], Smode=&quot;linear&quot;, kparam=0</span>
<span class="cm">    kout[] interp1d kidx[], xarr[], Smode=&quot;linear&quot;, kparam=0</span>
<span class="cm">    iout[] interp1d iidx[], iarr[], Smode=&quot;linear&quot;, kparam=0</span>

<span class="cm">    kout   interp1d kidx, ktab, Smode=&quot;linear&quot;, kstep=1, koffset=0</span>
<span class="cm">    aout   interp1d aidx, ktab, Smode=&quot;linear&quot;, kstep=1, koffset=0</span>
<span class="cm">    iout   interp1d iidx, itab, Smode=&quot;linear&quot;, kstep=1, koffset=0</span>
<span class="cm">    kout[] interp1d kidx[], ktab, Smode=&quot;linear&quot;, kstep=1, koffset=0</span>
<span class="cm">    iout[] interp1d iidx[], ktab, Smode=&quot;linear&quot;, kstep=1, koffset=0</span>

<span class="cm">    **NB**: interp1d performs the opposite operation of `bisect`</span>

<span class="cm">See Also</span>
<span class="cm">========</span>

<span class="cm">bisect, bpf, linlin, getrowlin, linenv</span>
<span class="cm">*/</span>

<span class="vg">ksmps</span> <span class="o">=</span> <span class="mi">10</span>
<span class="vg">nchnls</span> <span class="o">=</span> <span class="mi">2</span>
<span class="vg">0dbfs</span>  <span class="o">=</span> <span class="mi">1</span>

<span class="kd">instr</span> <span class="nf">example1</span>
    <span class="kt">i</span><span class="n">xs</span><span class="p">[]</span> <span class="nb">fillarray</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">16</span><span class="p">,</span> <span class="mi">18</span><span class="p">,</span> <span class="mi">28</span>
    <span class="c1">; interpolate ixs between at index 1.5, interpolating linearly between </span>
    <span class="c1">; ixs[1] and ixs[2]</span>
    <span class="kt">i</span><span class="n">out</span> <span class="kt">i</span><span class="n">nterp1d</span> <span class="mf">1.5</span><span class="p">,</span> <span class="kt">i</span><span class="n">xs</span>
    <span class="nb">print</span> <span class="kt">i</span><span class="n">out</span>  <span class="c1">; -&gt; 13.</span>

    <span class="c1">; scan ixs at k-rate</span>
    <span class="kt">k</span><span class="n">idx</span> <span class="o">=</span> <span class="nb">line</span><span class="p">:</span><span class="kt">k</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="vi">p3</span><span class="p">,</span> <span class="nb">lenarray</span><span class="p">:</span><span class="kt">i</span><span class="p">(</span><span class="kt">i</span><span class="n">xs</span><span class="p">)</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span>
    <span class="kt">k</span><span class="n">out2</span> <span class="kt">i</span><span class="n">nterp1d</span> <span class="kt">k</span><span class="n">idx</span><span class="p">,</span> <span class="kt">i</span><span class="n">xs</span>
    <span class="n">println</span> <span class="s">&quot;kidx: </span><span class="si">%f</span><span class="s">, kout2: </span><span class="si">%f</span><span class="s">&quot;</span><span class="p">,</span> <span class="kt">k</span><span class="n">idx</span><span class="p">,</span> <span class="kt">k</span><span class="n">out2</span>
<span class="kd">endin</span>

<span class="kd">instr</span> <span class="nf">example2</span>
    <span class="c1">; used together with bisect can create multiple piecewise interpolation configurations</span>
    <span class="kt">i</span><span class="n">times</span><span class="p">[]</span> <span class="nb">fillarray</span> <span class="mi">0</span><span class="p">,</span>   <span class="mi">4</span><span class="p">,</span>   <span class="mi">5</span><span class="p">,</span>    <span class="mi">10</span>
    <span class="kt">i</span><span class="n">midi1</span><span class="p">[]</span> <span class="nb">fillarray</span> <span class="mi">64</span><span class="p">,</span> <span class="mi">64</span><span class="p">,</span>   <span class="mf">63.5</span><span class="p">,</span> <span class="mf">64.5</span>
    <span class="kt">i</span><span class="n">midi2</span><span class="p">[]</span> <span class="nb">fillarray</span> <span class="mi">64</span><span class="p">,</span> <span class="mf">63.4</span><span class="p">,</span> <span class="mf">63.4</span><span class="p">,</span> <span class="mi">63</span>
    <span class="kt">i</span><span class="n">amps</span><span class="p">[]</span>  <span class="nb">fillarray</span> <span class="mi">0</span><span class="p">,</span>   <span class="mf">0.8</span><span class="p">,</span>   <span class="mf">0.8</span><span class="p">,</span>    <span class="mi">0</span>

    <span class="kt">k</span><span class="n">idx</span> <span class="n">bisect</span> <span class="nb">timeinsts</span><span class="p">(),</span> <span class="kt">i</span><span class="n">times</span>
    <span class="kt">k</span><span class="n">amp</span> <span class="kt">i</span><span class="n">nterp1d</span> <span class="kt">k</span><span class="n">idx</span><span class="p">,</span> <span class="kt">i</span><span class="n">amps</span><span class="p">,</span> <span class="s">&quot;cos&quot;</span>
    <span class="kt">a</span><span class="n">amp</span> <span class="nb">interp</span> <span class="kt">k</span><span class="n">amp</span>
    <span class="kt">a</span><span class="n">1</span> <span class="nb">oscili</span> <span class="kt">a</span><span class="n">amp</span><span class="p">,</span> <span class="nb">mtof</span><span class="p">(</span><span class="kt">i</span><span class="n">nterp1d</span><span class="p">(</span><span class="kt">k</span><span class="n">idx</span><span class="p">,</span> <span class="kt">i</span><span class="n">midi1</span><span class="p">,</span> <span class="s">&quot;cubic&quot;</span><span class="p">))</span>
    <span class="kt">a</span><span class="n">2</span> <span class="nb">oscili</span> <span class="kt">a</span><span class="n">amp</span><span class="p">,</span> <span class="nb">mtof</span><span class="p">(</span><span class="kt">i</span><span class="n">nterp1d</span><span class="p">(</span><span class="kt">k</span><span class="n">idx</span><span class="p">,</span> <span class="kt">i</span><span class="n">midi2</span><span class="p">))</span>
    <span class="n">println</span> <span class="s">&quot;amp: </span><span class="si">%f</span><span class="s">&quot;</span><span class="p">,</span> <span class="nb">rms</span><span class="p">:</span><span class="kt">k</span><span class="p">(</span><span class="kt">a</span><span class="n">amp</span><span class="p">)</span>
    <span class="nb">outch</span> <span class="mi">1</span><span class="p">,</span> <span class="kt">a</span><span class="n">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="kt">a</span><span class="n">2</span>
<span class="kd">endin</span>

<span class="kd">instr</span> <span class="nf">example3</span>
    <span class="c1">; a table can also be used with interp1d / bisect. A table can hold</span>
    <span class="c1">; both x and y coordinates as pairs</span>
    <span class="kt">i</span><span class="n">time2midi1</span> <span class="kt">f</span><span class="n">tfill</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">64</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">62</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">62</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">67</span>
    <span class="kt">i</span><span class="n">time2midi2</span> <span class="kt">f</span><span class="n">tfill</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">60</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">60</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">59</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">59</span>
    <span class="nb">ftfree</span> <span class="kt">i</span><span class="n">time2midi1</span><span class="p">,</span> <span class="mi">1</span>
    <span class="nb">ftfree</span> <span class="kt">i</span><span class="n">time2midi2</span><span class="p">,</span> <span class="mi">1</span>
    <span class="c1">; step=2, bisect the column 0.</span>
    <span class="kt">k</span><span class="n">t</span> <span class="o">=</span> <span class="nb">timeinsts</span><span class="p">()</span> 
    <span class="kt">k</span><span class="n">idx1</span> <span class="n">bisect</span> <span class="kt">k</span><span class="n">t</span><span class="p">,</span> <span class="kt">i</span><span class="n">time2midi1</span><span class="p">,</span> <span class="mi">2</span>
    <span class="kt">k</span><span class="n">idx2</span> <span class="n">bisect</span> <span class="kt">k</span><span class="n">t</span><span class="p">,</span> <span class="kt">i</span><span class="n">time2midi2</span><span class="p">,</span> <span class="mi">2</span>

    <span class="c1">; -1: cosine interpolation, step size=2, offset=1</span>
    <span class="kt">k</span><span class="n">midi1</span> <span class="kt">i</span><span class="n">nterp1d</span> <span class="kt">k</span><span class="n">idx1</span><span class="p">,</span> <span class="kt">i</span><span class="n">time2midi1</span><span class="p">,</span> <span class="s">&quot;cos&quot;</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">1</span>
    <span class="kt">k</span><span class="n">midi2</span> <span class="kt">i</span><span class="n">nterp1d</span> <span class="kt">k</span><span class="n">idx2</span><span class="p">,</span> <span class="kt">i</span><span class="n">time2midi2</span><span class="p">,</span> <span class="s">&quot;cos&quot;</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">1</span>

    <span class="kt">a</span><span class="n">0</span> <span class="nb">squinewave</span> <span class="nb">a</span><span class="p">(</span><span class="nb">mtof</span><span class="p">(</span><span class="kt">k</span><span class="n">midi1</span><span class="p">)),</span> <span class="nb">a</span><span class="p">(</span><span class="mf">0.1</span><span class="p">),</span> <span class="nb">a</span><span class="p">(</span><span class="mf">0.1</span><span class="p">)</span>
    <span class="kt">a</span><span class="n">1</span> <span class="nb">squinewave</span> <span class="nb">a</span><span class="p">(</span><span class="nb">mtof</span><span class="p">(</span><span class="kt">k</span><span class="n">midi2</span><span class="p">)),</span> <span class="nb">a</span><span class="p">(</span><span class="mf">0.2</span><span class="p">),</span> <span class="nb">a</span><span class="p">(</span><span class="mf">0.5</span><span class="p">)</span>
    <span class="kt">i</span><span class="n">gain</span> <span class="o">=</span> <span class="mf">0.1</span>
    <span class="kt">i</span><span class="n">fade</span> <span class="o">=</span> <span class="mf">0.2</span>
    <span class="kt">a</span><span class="n">env</span> <span class="o">=</span> <span class="nb">linseg</span><span class="p">:</span><span class="kt">a</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="kt">i</span><span class="n">fade</span><span class="p">,</span> <span class="kt">i</span><span class="n">gain</span><span class="p">,</span> <span class="vi">p3</span><span class="o">-</span><span class="kt">i</span><span class="n">fade</span><span class="o">*</span><span class="mi">2</span><span class="o">-</span><span class="mf">0.1</span><span class="p">,</span> <span class="kt">i</span><span class="n">gain</span><span class="p">,</span> <span class="kt">i</span><span class="n">fade</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
    <span class="nb">outch</span> <span class="mi">1</span><span class="p">,</span> <span class="kt">a</span><span class="n">0</span><span class="o">*</span><span class="kt">a</span><span class="n">env</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="kt">a</span><span class="n">1</span><span class="o">*</span><span class="kt">a</span><span class="n">env</span>
<span class="kd">endin</span>

<span class="kd">instr</span> <span class="nf">example4</span>
    <span class="c1">; test all curves, save to csv</span>
    <span class="kt">i</span><span class="n">file</span> <span class="nb">fiopen</span> <span class="s">&quot;interp1d.csv&quot;</span><span class="p">,</span> <span class="mi">0</span>
    <span class="nb">fprints</span> <span class="kt">i</span><span class="n">file</span><span class="p">,</span> <span class="s">&quot;# kx, kidx, klin, kcos, kfloor, kcub, kexp, ksmooth, ksmooth2, ksmoother</span><span class="se">\n</span><span class="s">&quot;</span> 

    <span class="kt">i</span><span class="n">xs</span><span class="p">[]</span> <span class="nb">fillarray</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span>  <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span>  <span class="mf">6.4</span><span class="p">,</span> <span class="mi">8</span>
    <span class="kt">i</span><span class="n">ys</span><span class="p">[]</span> <span class="nb">fillarray</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mf">3.2</span><span class="p">,</span> <span class="mi">16</span>
    <span class="kt">k</span><span class="n">x</span> <span class="nb">line</span> <span class="mi">0</span><span class="p">,</span> <span class="vi">p3</span><span class="p">,</span> <span class="kt">i</span><span class="n">xs</span><span class="p">[</span><span class="nb">lenarray</span><span class="p">(</span><span class="kt">i</span><span class="n">xs</span><span class="p">)</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
    <span class="kt">k</span><span class="n">idx</span> <span class="n">bisect</span> <span class="kt">k</span><span class="n">x</span><span class="p">,</span> <span class="kt">i</span><span class="n">xs</span>
    <span class="kt">k</span><span class="n">lin</span> <span class="o">=</span> <span class="kt">i</span><span class="n">nterp1d</span><span class="p">(</span><span class="kt">k</span><span class="n">idx</span><span class="p">,</span> <span class="kt">i</span><span class="n">ys</span><span class="p">,</span> <span class="s">&quot;linear&quot;</span><span class="p">)</span>
    <span class="kt">k</span><span class="n">cos</span> <span class="kt">i</span><span class="n">nterp1d</span> <span class="kt">k</span><span class="n">idx</span><span class="p">,</span> <span class="kt">i</span><span class="n">ys</span><span class="p">,</span> <span class="s">&quot;cos&quot;</span>
    <span class="kt">k</span><span class="n">floor</span> <span class="kt">i</span><span class="n">nterp1d</span> <span class="kt">k</span><span class="n">idx</span><span class="p">,</span> <span class="kt">i</span><span class="n">ys</span><span class="p">,</span> <span class="s">&quot;floor&quot;</span>
    <span class="kt">k</span><span class="n">cub</span> <span class="o">=</span> <span class="n">lag</span><span class="p">(</span><span class="kt">i</span><span class="n">nterp1d</span><span class="p">(</span><span class="kt">k</span><span class="n">idx</span><span class="p">,</span> <span class="kt">i</span><span class="n">ys</span><span class="p">,</span> <span class="s">&quot;cubic&quot;</span><span class="p">),</span> <span class="mf">0.1</span><span class="p">)</span>
    <span class="kt">k</span><span class="n">exp</span> <span class="kt">i</span><span class="n">nterp1d</span> <span class="kt">k</span><span class="n">idx</span><span class="p">,</span> <span class="kt">i</span><span class="n">ys</span><span class="p">,</span> <span class="s">&quot;exp&quot;</span><span class="p">,</span> <span class="mi">2</span>
    <span class="kt">k</span><span class="n">smooth</span> <span class="kt">i</span><span class="n">nterp1d</span> <span class="kt">k</span><span class="n">idx</span><span class="p">,</span> <span class="kt">i</span><span class="n">ys</span><span class="p">,</span> <span class="s">&quot;smooth&quot;</span><span class="p">,</span> <span class="mi">0</span> 
    <span class="kt">k</span><span class="n">smooth2</span> <span class="kt">i</span><span class="n">nterp1d</span> <span class="kt">k</span><span class="n">idx</span><span class="p">,</span> <span class="kt">i</span><span class="n">ys</span><span class="p">,</span> <span class="s">&quot;smooth&quot;</span><span class="p">,</span> <span class="mi">1</span>
    <span class="kt">k</span><span class="n">smoother</span> <span class="kt">i</span><span class="n">nterp1d</span> <span class="kt">k</span><span class="n">idx</span><span class="p">,</span> <span class="kt">i</span><span class="n">ys</span><span class="p">,</span> <span class="s">&quot;smoother&quot;</span>

    <span class="c1">; kx, kidx, klin, kcos, kfloor, kcub, kexp[O[I]]</span>
    <span class="nb">fprintks</span> <span class="kt">i</span><span class="n">file</span><span class="p">,</span> <span class="s">&quot;</span><span class="si">%g</span><span class="s">, </span><span class="si">%g</span><span class="s">, </span><span class="si">%g</span><span class="s">, </span><span class="si">%g</span><span class="s">, </span><span class="si">%g</span><span class="s">, </span><span class="si">%g</span><span class="s">, </span><span class="si">%g</span><span class="s">, </span><span class="si">%g</span><span class="s">, </span><span class="si">%g</span><span class="s">, </span><span class="si">%g</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span> <span class="kt">k</span><span class="n">x</span><span class="p">,</span> <span class="kt">k</span><span class="n">idx</span><span class="p">,</span> <span class="kt">k</span><span class="n">lin</span><span class="p">,</span> <span class="kt">k</span><span class="n">cos</span><span class="p">,</span> <span class="kt">k</span><span class="n">floor</span><span class="p">,</span> <span class="kt">k</span><span class="n">cub</span><span class="p">,</span> <span class="kt">k</span><span class="n">exp</span><span class="p">,</span> <span class="kt">k</span><span class="n">smooth</span><span class="p">,</span> <span class="kt">k</span><span class="n">smooth2</span><span class="p">,</span> <span class="kt">k</span><span class="n">smoother</span>
<span class="kd">endin</span>
<span class="o">&lt;/</span><span class="n">CsInstruments</span><span class="o">&gt;</span>

<span class="o">&lt;</span><span class="n">CsScore</span><span class="o">&gt;</span>

<span class="c1">; Uncomment to perform each example</span>

<span class="c1">; i &quot;example1&quot; 0 1</span>
<span class="c1">; i &quot;example2&quot; 0 10</span>
<span class="c1">;i &quot;example3&quot;  0 7</span>
<span class="nb">i</span> <span class="s">&quot;example4&quot;</span> <span class="mi">0</span> <span class="mi">2</span>

<span class="o">&lt;/</span><span class="n">CsScore</span><span class="o">&gt;</span>
<span class="o">&lt;/</span><span class="n">CsoundSynthesizer</span><span class="o">&gt;</span>
</code></pre></div>

<h2 id="see-also">See Also</h2>
<ul>
<li><a href="bisect.html">bisect</a></li>
<li><a href="http://www.csound.com/docs/manual/bpf.html">bpf</a></li>
<li><a href="http://www.csound.com/docs/manual/linlin.html">linlin</a></li>
<li><a href="http://www.csound.com/docs/manual/getrowlin.html">getrowlin</a></li>
<li><a href="linenv.html">linenv</a></li>
</ul>
              
            </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="jsfx.html" class="btn btn-neutral float-right" title="jsfx">Next <span class="icon icon-circle-arrow-right"></span></a>
      
      
        <a href="initerror.html" class="btn btn-neutral" title="initerror"><span class="icon icon-circle-arrow-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
    
  </div>

  Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
      
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="versions">
    <span class="rst-current-version" data-toggle="rst-current-version">
      
      
        <span><a href="initerror.html" style="color: #fcfcfc;">&laquo; Previous</a></span>
      
      
        <span style="margin-left: 15px"><a href="jsfx.html" style="color: #fcfcfc">Next &raquo;</a></span>
      
    </span>
</div>
    <script>var base_url = '..';</script>
    <script src="../js/theme.js" defer></script>
      <script src="../search/main.js" defer></script>
    <script defer>
        window.onload = function () {
            SphinxRtdTheme.Navigation.enable(true);
        };
    </script>

</body>
</html>
